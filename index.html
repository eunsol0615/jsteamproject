<!DOCTYPE html>
<html class="light" lang="ko">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>í¬íŠ¸í´ë¦¬ì˜¤ í”Œë«í¼</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        html {
            scroll-behavior: smooth;
        }
        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 20px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #475569;
        }

        /* ëª¨ë‹¬ ìŠ¬ë¼ì´ë” íŠ¸ëœì§€ì…˜ */
        .slide-image {
            transition: opacity 0.5s ease-in-out;
        }
        /* ë¡œê·¸ì¸ ëª¨ë‹¬ íŠ¸ëœì§€ì…˜ */
        .login-modal-panel {
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
    </style>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#137fec",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101922",
                    },
                    fontFamily: {
                        "display": ["Lexend", "sans-serif"]
                    },
                },
            },
        }
    </script>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-[#0d141b] dark:text-slate-50">
    <div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
        <div class="layout-container flex h-full grow flex-col">
            
            <header class="sticky top-0 z-40 flex items-center justify-between whitespace-nowrap border-b border-solid border-slate-200 dark:border-slate-800 px-4 py-4 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm">
                <div class="flex items-center gap-8">
                    <div class="flex items-center gap-3 text-primary">
                        <div class="size-6">
                            <svg fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z" fill="currentColor"></path>
                            </svg>
                        </div>
                        <h2 class="text-lg font-bold leading-tight tracking-[-0.015em] text-[#0d141b] dark:text-slate-50">í¬íŠ¸í´ë¦¬ì˜¤ í”Œë«í¼</h2>
                    </div>
                    <nav class="hidden md:flex items-center gap-6">
                        <a class="text-sm font-medium leading-normal text-slate-700 dark:text-slate-300 hover:text-primary dark:hover:text-primary transition-colors" href="ê¸°ê³„.html">ê¸°ê³„ì œì–´ê³µí•™ë¶€</a>
                        <a class="text-sm font-medium leading-normal text-slate-700 dark:text-slate-300 hover:text-primary dark:hover:text-primary transition-colors" href="ë””ìì¸.html">ì½˜í…ì¸ ìœµí•©ë””ìì¸í•™ë¶€</a>
                    </nav>
                </div>
                 <div class="flex flex-1 justify-end gap-4">
                    <label class="flex-col min-w-40 !h-10 max-w-64 hidden lg:flex">
                        <div class="flex w-full flex-1 items-stretch rounded-lg h-full">
                            <div class="text-slate-500 dark:text-slate-400 flex border-none bg-slate-200 dark:bg-slate-800 items-center justify-center pl-3 rounded-l-lg border-r-0">
                                <span class="material-symbols-outlined" style="font-size: 20px;">search</span>
                            </div>
                            <input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg focus:outline-0 focus:ring-0 border-none bg-slate-200 dark:bg-slate-800 h-full placeholder:text-slate-500 dark:placeholder:text-slate-400 px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal" placeholder="ê²€ìƒ‰" value=""/>
                        </div>
                    </label>
                    <button onclick="openLoginModal()" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-slate-50 text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-colors">
                        <span class="truncate">ë¡œê·¸ì¸ / íšŒì›ê°€ì…</span>
                    </button>
                </div>
            </header>

            <main class="flex-grow">
                <div class="@container py-10 px-4 md:px-10 lg:px-20">
                    <div class="@[480px]:p-4">
                        <div class="flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 rounded-xl items-center justify-center p-6 text-center" style='background-image: linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.5) 100%), url("https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80");'>
                            <div class="flex flex-col gap-2 text-center text-slate-50 drop-shadow-lg">
                                <h1 class="text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]">ë¯¸ë˜ì˜ í˜ì‹ ê°€ë“¤ì„ ìœ„í•œ ê³µê°„</h1>
                                <h2 class="text-slate-200 text-base font-normal leading-normal @[480px]:text-lg @[480px]:font-normal @[480px]:leading-normal">ìµœê³ ì˜ ê³µí•™ ë° ë””ìì¸ í•™ìƒë“¤ì˜ ë†€ë¼ìš´ í”„ë¡œì íŠ¸ë¥¼ ë°œê²¬í•˜ê³  ì†Œê°œí•˜ì„¸ìš”.</h2>
                            </div>
                            
                        </div>
                    </div>
                </div>

                <section id="mech" class="py-16 px-4 md:px-10 lg:px-20 scroll-mt-20 bg-slate-50 dark:bg-slate-900/30">
                     <div class="flex flex-col gap-6">
                        <div class="flex flex-col md:flex-row gap-4 justify-between items-start md:items-center pb-6 border-b border-slate-200 dark:border-slate-800">
                            <div class="flex flex-col gap-2">
                                <h1 class="text-3xl font-black leading-tight tracking-[-0.033em] text-slate-900 dark:text-slate-50">ê¸°ê³„ì œì–´ê³µí•™ë¶€</h1>
                                <p class="text-base font-normal leading-normal text-slate-500 dark:text-slate-400">ì„¤ê³„, í•´ì„, ê·¸ë¦¬ê³  ì œì–´ì˜ ì •ì </p>
                            </div>
                            
                        </div>
                        
                        
                     </div>
                </section>

                <hr class="border-slate-200 dark:border-slate-800 my-8"/>

                <section id="design" class="py-16 px-4 md:px-10 lg:px-20 scroll-mt-20">
                    <div class="flex flex-col gap-6">
                        <div class="flex flex-col md:flex-row gap-4 justify-between items-start md:items-center pb-6 border-b border-slate-200 dark:border-slate-800">
                             <div class="flex flex-col gap-2">
                                <h3 class="text-3xl font-black text-slate-900 dark:text-slate-50">ì½˜í…ì¸ ìœµí•©ë””ìì¸í•™ë¶€</h3>
                                <p class="text-base text-slate-500 dark:text-slate-400">ì‹œê°, ì˜ìƒ, ê·¸ë¦¬ê³  ì‚¬ìš©ì ê²½í—˜ì˜ í˜ì‹ </p>
                            </div>
                            
                        </div>
                        
                        
                    </div>
                </section>

            </main>

            <footer class="mt-20 border-t border-slate-200 dark:border-slate-800 pt-10 pb-8 bg-background-light dark:bg-background-dark px-4 md:px-10 lg:px-20">
                <div class="flex flex-col md:flex-row justify-between items-center gap-8">
                    <div class="flex items-center gap-3 text-primary">
                        <div class="size-6">
                            <svg fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z" fill="currentColor"></path>
                            </svg>
                        </div>
                        <h2 class="text-lg font-bold leading-tight tracking-[-0.015em] text-[#0d141b] dark:text-slate-50">í¬íŠ¸í´ë¦¬ì˜¤ í”Œë«í¼</h2>
                    </div>
                    <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-sm">
                        <a class="text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary transition-colors" href="#">ì„œë¹„ìŠ¤ ì†Œê°œ</a>
                        <a class="text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary transition-colors" href="#">ë¬¸ì˜í•˜ê¸°</a>
                        <a class="text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary transition-colors" href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                        <a class="text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary transition-colors" href="#">ì´ìš©ì•½ê´€</a>
                    </nav>
                </div>
                <div class="mt-8 text-center text-xs text-slate-400">
                    &copy; 2024 í¬íŠ¸í´ë¦¬ì˜¤ í”Œë«í¼. All rights reserved.
                </div>
            </footer>
        </div>
    </div>

    <div id="project-modal" class="fixed inset-0 z-[100] hidden" aria-modal="true" role="dialog">
        <div id="modal-backdrop" class="absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity opacity-0" onclick="closeModal()"></div>
        
        <div class="relative flex min-h-full items-center justify-center p-4">
            <div id="modal-panel" class="relative w-full max-w-6xl overflow-hidden rounded-2xl bg-white dark:bg-slate-900 shadow-2xl ring-1 ring-slate-900/5 transition-all transform scale-95 opacity-0">
                <button onclick="closeModal()" class="absolute right-4 top-4 z-20 rounded-full bg-black/20 p-2 text-white/80 hover:bg-black/40 dark:bg-white/10 dark:text-slate-200 dark:hover:bg-white/20 transition-colors">
                    <span class="material-symbols-outlined text-xl">close</span>
                </button>
                
                <div class="flex flex-col md:flex-row h-auto max-h-[90vh]">
                    <div class="w-full md:w-3/5 relative bg-slate-950 flex items-center justify-center group/slider">
                        <div id="modal-slider-container" class="relative w-full h-[400px] md:h-[600px] overflow-hidden">
                            </div>
                        
                        <button onclick="changeModalSlide(-1)" class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center bg-black/40 hover:bg-black/60 text-white rounded-full backdrop-blur-sm opacity-0 group-hover/slider:opacity-100 transition-opacity z-10">
                            <span class="material-symbols-outlined">arrow_back_ios_new</span>
                        </button>
                        <button onclick="changeModalSlide(1)" class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center bg-black/40 hover:bg-black/60 text-white rounded-full backdrop-blur-sm opacity-0 group-hover/slider:opacity-100 transition-opacity z-10">
                            <span class="material-symbols-outlined">arrow_forward_ios</span>
                        </button>
                        
                        <div id="slider-dots" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10">
                            </div>
                    </div>
                    
                    <div class="w-full md:w-2/5 p-8 flex flex-col h-[600px] overflow-hidden">
                        <div class="flex-shrink-0">
                            <h2 id="modal-title" class="mt-4 text-3xl font-black tracking-tight text-slate-900 dark:text-white leading-tight">Project Title</h2>
                            <p id="modal-author" class="text-base text-slate-500 dark:text-slate-400 mt-2 font-medium">Author Name</p>
                        </div>

                        <div class="flex-shrink-0 mt-6 pb-4 border-b border-slate-100 dark:border-slate-700 flex flex-wrap items-center gap-x-6 gap-y-2">
                            <div class="flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300">
                                <span class="material-symbols-outlined text-primary text-[18px]">mail</span>
                                <span id="modal-email" class="hover:underline cursor-pointer">email@example.com</span>
                            </div>
                            <div class="flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" class="w-4 h-4 opacity-70" alt="insta">
                                <span id="modal-insta" class="hover:underline cursor-pointer">@instagram_id</span>
                            </div>
                        </div>
                        
                        <div class="flex-grow overflow-y-auto custom-scrollbar mt-6 pr-2">
                            <div class="prose prose-sm dark:prose-invert max-w-none text-slate-600 dark:text-slate-300 leading-relaxed text-[15px]">
                                <p id="modal-description">
                                    Description goes here...
                                </p>
                            </div>
                            <div id="modal-tags" class="flex flex-wrap gap-2 mt-6">
                            </div>
                        </div>
                            
                        <div class="mt-6 pt-6 border-t border-slate-200 dark:border-slate-800 flex-shrink-0">
                            <button class="w-full flex items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-3 text-sm font-bold text-slate-700 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-700 transition-all">
                                <span class="material-symbols-outlined">share</span>
                                ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="login-modal" class="fixed inset-0 z-[200] hidden" aria-modal="true" role="dialog">
        <div id="login-backdrop" class="absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity opacity-0" onclick="closeLoginModal()"></div>
        
        <div class="relative flex min-h-full items-center justify-center p-4">
            <div id="login-panel" class="login-modal-panel relative w-full max-w-md overflow-hidden rounded-2xl bg-white dark:bg-slate-900 shadow-2xl ring-1 ring-slate-900/5 transform translate-y-4 opacity-0">
                <button onclick="closeLoginModal()" class="absolute right-4 top-4 z-10 rounded-full bg-black/20 p-2 text-white/80 hover:bg-black/40 dark:bg-white/10 dark:text-slate-200 dark:hover:bg-white/20 transition-colors">
                    <span class="material-symbols-outlined text-xl">close</span>
                </button>
                
                <div class="p-8">
                    <h2 class="text-3xl font-bold text-center text-slate-900 dark:text-white mb-6">ë¡œê·¸ì¸</h2>
                    <form id="login-form" class="flex flex-col gap-4">
                        <div>
                            <label for="email" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">ì´ë©”ì¼</label>
                            <input type="email" id="email" class="form-input w-full rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-4 py-2 text-base text-slate-900 dark:text-white focus:ring-primary focus:border-primary" placeholder="name@example.com" required>
                        </div>
                        <div>
                            <label for="password" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">ë¹„ë°€ë²ˆí˜¸</label>
                            <input type="password" id="password" class="form-input w-full rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-4 py-2 text-base text-slate-900 dark:text-white focus:ring-primary focus:border-primary" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required>
                        </div>
                        <button type="submit" class="flex min-w-[84px] max-w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 mt-2 bg-primary text-slate-50 text-base font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-colors">
                            <span class="truncate">ë¡œê·¸ì¸</span>
                        </button>
                    </form>
                    <div class="mt-4 text-center text-sm">
                        <a href="#" class="text-primary hover:underline">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
                        <span class="mx-2 text-slate-400">|</span>
                        <a href="#" class="text-primary hover:underline">íšŒì›ê°€ì…</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="upload-modal" class="relative z-[300] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>
    <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
        <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
            <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
                <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
                    <h3 class="text-lg font-bold leading-6 text-gray-900 mb-4">ìƒˆ ê²Œì‹œë¬¼ ì‘ì„±</h3>
                    <form id="upload-form" class="flex flex-col gap-4">
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì¹´í…Œê³ ë¦¬</label>
                            <select id="post-category" class="w-full rounded-md border-0 py-2 px-3 ring-1 ring-inset ring-gray-300">
                                <option value="machine">ê¸°ê³„ì œì–´ê³µí•™ë¶€</option>
                                <option value="design">ì½˜í…ì¸ ìœµí•©ë””ìì¸í•™ë¶€</option>
                            </select>
                        </div>

                        <input type="text" id="post-title" placeholder="ì œëª©" class="w-full rounded-md border-0 py-2 px-3 ring-1 ring-inset ring-gray-300" required>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì´ë¯¸ì§€</label>
                            <input type="file" id="post-image" accept="image/*" class="block w-full text-sm text-slate-500">
                        </div>

                        <textarea id="post-content" rows="3" placeholder="ë‚´ìš©" class="w-full rounded-md border-0 py-2 px-3 ring-1 ring-inset ring-gray-300" required></textarea>

                        <div class="flex justify-end gap-2 mt-4">
                            <button type="button" onclick="document.getElementById('upload-modal').classList.add('hidden')" class="bg-gray-200 px-4 py-2 rounded-md">ì·¨ì†Œ</button>
                            <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded-md">ì—…ë¡œë“œ</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<button id="show-upload-btn" class="hidden fixed bottom-8 right-8 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 transition-all z-[250] flex items-center gap-2 font-bold">
    <span class="material-symbols-outlined">edit</span>
    ê¸€ì“°ê¸°
</button>
<div id="detail-modal" class="relative z-[400] hidden">
    <div class="fixed inset-0 bg-black/70 transition-opacity" onclick="closeDetailModal()"></div>
    <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4">
            <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all w-full max-w-2xl">
                <div class="bg-white p-6">
                    <div class="flex justify-between items-start mb-4">
                        <span id="modal-category" class="inline-flex items-center rounded-md bg-indigo-50 px-2 py-1 text-xs font-medium text-indigo-700 ring-1 ring-inset ring-indigo-700/10">ì¹´í…Œê³ ë¦¬</span>
                        <button onclick="closeDetailModal()" class="text-gray-400 hover:text-gray-500">
                            <span class="material-symbols-outlined">close</span>
                        </button>
                    </div>
                    <h2 id="modal-title" class="text-2xl font-bold text-gray-900 mb-4">ì œëª©</h2>
                    <div id="modal-image-container" class="mb-6 w-full overflow-hidden rounded-lg bg-gray-100 hidden">
                        <img id="modal-image" src="" alt="Detail" class="w-full h-auto object-contain max-h-[500px]">
                    </div>
                    <div class="prose max-w-none">
                        <p id="modal-content" class="text-gray-700 whitespace-pre-wrap leading-relaxed">ë‚´ìš©</p>
                    </div>
                    <div class="mt-6 pt-4 border-t flex justify-between text-sm text-gray-500">
                        <span id="modal-author">ì‘ì„±ì</span>
                        <span id="modal-date">ë‚ ì§œ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    
    <script>
        // ë°ì´í„°


        let currentModalImages = [];
        let currentSlideIndex = 0;

        const modal = document.getElementById('project-modal');
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalPanel = document.getElementById('modal-panel');
        const sliderContainer = document.getElementById('modal-slider-container');
        const dotsContainer = document.getElementById('slider-dots');

        // [ì¶”ê°€] ë¡œê·¸ì¸ ëª¨ë‹¬ ê´€ë ¨ DOM ìš”ì†Œ
        const loginModal = document.getElementById('login-modal');
        const loginBackdrop = document.getElementById('login-backdrop');
        const loginPanel = document.getElementById('login-panel');
        
        // [ì¶”ê°€] ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°
        function openLoginModal() {
            if (!modal.classList.contains('hidden')) closeModal(); // í”„ë¡œì íŠ¸ ëª¨ë‹¬ì´ ì—´ë ¤ìˆìœ¼ë©´ ë‹«ê¸°
            
            loginModal.classList.remove('hidden');
            setTimeout(() => {
                loginBackdrop.classList.remove('opacity-0');
                loginPanel.classList.remove('translate-y-4', 'opacity-0');
                loginPanel.classList.add('translate-y-0', 'opacity-100');
            }, 10);
            
            document.body.style.overflow = 'hidden';
        }

        // [ì¶”ê°€] ë¡œê·¸ì¸ ëª¨ë‹¬ ë‹«ê¸°
        function closeLoginModal() {
            loginBackdrop.classList.add('opacity-0');
            loginPanel.classList.remove('translate-y-0', 'opacity-100');
            loginPanel.classList.add('translate-y-4', 'opacity-0');

            setTimeout(() => {
                loginModal.classList.add('hidden');
                // í”„ë¡œì íŠ¸ ëª¨ë‹¬ì´ ì—´ë ¤ìˆì§€ ì•Šì€ ê²½ìš°ì—ë§Œ body ìŠ¤í¬ë¡¤ ë³µêµ¬
                if (modal.classList.contains('hidden')) {
                    document.body.style.overflow = '';
                }
            }, 300); 
        }

        function openModal(id) {
            if (!loginModal.classList.contains('hidden')) closeLoginModal(); // ë¡œê·¸ì¸ ëª¨ë‹¬ì´ ì—´ë ¤ìˆìœ¼ë©´ ë‹«ê¸°

            const data = projectData[id];
            if (!data) return;
            
            document.getElementById('modal-title').innerText = data.title;
            document.getElementById('modal-author').innerText = data.author;
            document.getElementById('modal-email').innerText = data.email;
            document.getElementById('modal-insta').innerText = data.insta;
            
            document.getElementById('modal-description').innerText = data.description;

            // íƒœê·¸
            const tagsContainer = document.getElementById('modal-tags');
            tagsContainer.innerHTML = '';
            data.tags.forEach(tag => {
                const span = document.createElement('span');
                span.className = 'inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-800 dark:bg-slate-700 dark:text-slate-300';
                span.innerText = tag;
                tagsContainer.appendChild(span);
            });

            // ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë” ì´ˆê¸°í™”
            currentModalImages = data.images;
            currentSlideIndex = 0;
            renderSlider();

            modal.classList.remove('hidden');
            setTimeout(() => {
                modalBackdrop.classList.remove('opacity-0');
                modalPanel.classList.remove('opacity-0', 'scale-95');
                modalPanel.classList.add('opacity-100', 'scale-100');
            }, 10);
            
            document.body.style.overflow = 'hidden';
        }

        function renderSlider() {
            sliderContainer.innerHTML = '';
            dotsContainer.innerHTML = '';

            currentModalImages.forEach((src, index) => {
                // ì´ë¯¸ì§€ ì—˜ë¦¬ë¨¼íŠ¸
                const img = document.createElement('img');
                img.src = src;
                img.className = `slide-image absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${index === currentSlideIndex ? 'opacity-100' : 'opacity-0'}`;
                sliderContainer.appendChild(img);

                // ë„íŠ¸
                const dot = document.createElement('button');
                dot.className = `w-2 h-2 rounded-full transition-colors ${index === currentSlideIndex ? 'bg-white' : 'bg-white/40 hover:bg-white/60'}`;
                dot.onclick = (e) => { e.stopPropagation(); goToSlide(index); };
                dotsContainer.appendChild(dot);
            });
        }

        function changeModalSlide(direction) {
            let nextIndex = currentSlideIndex + direction;
            if (nextIndex >= currentModalImages.length) nextIndex = 0;
            if (nextIndex < 0) nextIndex = currentModalImages.length - 1;
            goToSlide(nextIndex);
        }

        function goToSlide(index) {
            currentSlideIndex = index;
            const images = sliderContainer.querySelectorAll('img');
            const dots = dotsContainer.querySelectorAll('button');

            images.forEach((img, i) => {
                if (i === index) {
                    img.classList.remove('opacity-0');
                    img.classList.add('opacity-100');
                } else {
                    img.classList.remove('opacity-100');
                    img.classList.add('opacity-0');
                }
            });

            dots.forEach((dot, i) => {
                dot.className = `w-2 h-2 rounded-full transition-colors ${i === index ? 'bg-white' : 'bg-white/40 hover:bg-white/60'}`;
            });
        }

        function closeModal() {
            modalBackdrop.classList.add('opacity-0');
            modalPanel.classList.remove('opacity-100', 'scale-100');
            modalPanel.classList.add('opacity-0', 'scale-95');

            setTimeout(() => {
                modal.classList.add('hidden');
                // ë¡œê·¸ì¸ ëª¨ë‹¬ì´ ì—´ë ¤ìˆì§€ ì•Šì€ ê²½ìš°ì—ë§Œ body ìŠ¤í¬ë¡¤ ë³µêµ¬
                if (loginModal.classList.contains('hidden')) {
                    document.body.style.overflow = '';
                }
            }, 300); 
        }

        document.addEventListener('keydown', function(event) {
            // [ìˆ˜ì •] ESC í‚¤ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¡œì§
            if (event.key === "Escape") {
                if (!loginModal.classList.contains('hidden')) {
                    closeLoginModal();
                } else if (!modal.classList.contains('hidden')) {
                    closeModal();
                }
            }
            // [ìˆ˜ì •] í™”ì‚´í‘œ í‚¤ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¡œì§
            if (!modal.classList.contains('hidden')) {
                if (event.key === "ArrowLeft") changeModalSlide(-1);
                if (event.key === "ArrowRight") changeModalSlide(1);
            }
        });
        
    
    let currentUser = null;
    let allPosts = []; // ì „ì²´ ê²Œì‹œë¬¼ ì €ì¥ìš©

    // ë¡œê·¸ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸ (ì´ë¦„ í´ë¦­ ì‹œ ë§ˆì´í˜ì´ì§€ ì´ë™ ê¸°ëŠ¥ ì¶”ê°€ë¨)
    function updateLoginState(username) {
        currentUser = username;
        const headerLoginBtn = document.querySelector('header button'); 
        
        if(headerLoginBtn) {
            // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½ ë° í…ìŠ¤íŠ¸ ìˆ˜ì •
            const textSpan = headerLoginBtn.querySelector('span:not(.material-symbols-outlined)') || headerLoginBtn;
            textSpan.innerText = 'My Page';
            
            // [ì¤‘ìš”] ë¡œê·¸ì¸ëœ ìƒíƒœì—ì„œ ë²„íŠ¼ í´ë¦­í•˜ë©´ ë§ˆì´í˜ì´ì§€ë¡œ ì´ë™
            headerLoginBtn.onclick = function() {
                window.location.href = 'mypage.html';
            };
        }
        
        const uploadBtn = document.getElementById('show-upload-btn');
        if(uploadBtn) uploadBtn.classList.remove('hidden');
        if (typeof closeLoginModal === 'function') closeLoginModal();
    }
    // [ëˆ„ë½ëœ ì½”ë“œ] ë¡œê·¸ì¸ í¼ ì œì¶œ ì²˜ë¦¬
    const loginForm = document.getElementById('login-form');
    if (loginForm) {
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault(); // 1. í¼ ì œì¶œ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ë°©ì§€

            const emailInput = document.getElementById('email').value;
            const passwordInput = document.getElementById('password').value;

            // 2. (ì‹¤ì œ ì„œë²„ í†µì‹ ì´ ìˆë‹¤ë©´ ì—¬ê¸°ì— fetch ì½”ë“œ ì‘ì„±)
            // ì„ì‹œë¡œ ì´ë©”ì¼ë§Œ ì…ë ¥í•˜ë©´ ì„±ê³µí•œ ê²ƒìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.
            if(emailInput) {
                alert('ë¡œê·¸ì¸ ë˜ì—ˆìŠµë‹ˆë‹¤.');
                
                // 3. ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ìœ ì € ì •ë³´ ì €ì¥ (ìƒˆë¡œê³ ì¹¨ í•´ë„ ìœ ì§€ë˜ë„ë¡)
                localStorage.setItem('user', emailInput);
                
                // 4. í™”ë©´(í—¤ë”) ìƒíƒœ ì—…ë°ì´íŠ¸ -> ì´ì œ í—¤ë” ë²„íŠ¼ì´ 'mypage.html'ë¡œ ì´ë™í•˜ê²Œ ë°”ë€œ
                updateLoginState(emailInput);
                
                // 5. ëª¨ë‹¬ ë‹«ê¸°
                closeLoginModal();
            } else {
                alert('ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            }
        });
    }

    // ì´ˆê¸°í™”
    window.addEventListener('DOMContentLoaded', () => {
        const savedUser = localStorage.getItem('user');
        if (savedUser) updateLoginState(savedUser);
        loadPosts();
    });

    // ê²Œì‹œë¬¼ ë¶ˆëŸ¬ì˜¤ê¸° (ì‚¬ì§„ í‘œì‹œ & í´ë¦­ ì‹œ ëª¨ë‹¬ ì—´ê¸°)
    async function loadPosts() {
        const container = document.getElementById('posts-container');
        if (!container) return;

        try {
            // ê¸°ì¡´ ì„œë²„ ê²Œì‹œë¬¼ ì§€ìš°ê¸°
            const oldDynamicPosts = container.querySelectorAll('.server-post');
            oldDynamicPosts.forEach(post => post.remove());

            const response = await fetch('http://localhost:3000/api/posts');
            const posts = await response.json();
            allPosts = posts; // ë°ì´í„° ì €ì¥

            posts.forEach(post => {
                const date = new Date(post.date).toLocaleDateString();
                
                // [ì‚¬ì§„ í‘œì‹œ ë¡œì§]
                const imageHTML = post.image 
                    ? `<img src="${post.image}" class="h-full w-full object-cover">` 
                    : `<div class="h-full w-full bg-gray-100 flex items-center justify-center text-4xl">ğŸ“</div>`;

                // [í´ë¦­ ì´ë²¤íŠ¸] onclick="openDetailModal(${post.id})" ì¶”ê°€ë¨
                const cardHTML = `
                    <div onclick="openDetailModal(${post.id})" class="server-post group relative overflow-hidden rounded-xl bg-white shadow-md transition-all hover:-translate-y-1 hover:shadow-xl cursor-pointer">
                        <div class="aspect-video w-full overflow-hidden bg-gray-200">${imageHTML}</div>
                        <div class="p-4">
                            <span class="text-xs font-bold text-indigo-600 mb-1 block">
                                ${post.category === 'machine' ? 'ê¸°ê³„ì œì–´ê³µí•™ë¶€' : (post.category === 'design' ? 'ì½˜í…ì¸ ìœµí•©ë””ìì¸í•™ë¶€' : 'ì „ì²´')}
                            </span>
                            <h3 class="mb-1 text-lg font-bold text-gray-900 line-clamp-1">${post.title}</h3>
                            <p class="text-sm text-gray-600 line-clamp-2">${post.content}</p>
                            <div class="mt-4 flex items-center justify-between border-t pt-3">
                                <span class="text-xs text-gray-700">${post.author.split('@')[0]}</span>
                                <span class="text-xs text-gray-500">${date}</span>
                            </div>
                        </div>
                    </div>`;
                
                container.insertAdjacentHTML('beforeend', cardHTML);
            });
        } catch (error) { console.error(error); }
    }

    // [ìƒì„¸ ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜]
    function openDetailModal(id) {
        const post = allPosts.find(p => p.id === id);
        if (!post) return;

        document.getElementById('modal-title').innerText = post.title;
        document.getElementById('modal-content').innerText = post.content;
        document.getElementById('modal-author').innerText = 'ì‘ì„±ì: ' + post.author.split('@')[0];
        document.getElementById('modal-date').innerText = new Date(post.date).toLocaleDateString();
        
        const catName = post.category === 'machine' ? 'ê¸°ê³„ì œì–´ê³µí•™ë¶€' : (post.category === 'design' ? 'ì½˜í…ì¸ ìœµí•©ë””ìì¸í•™ë¶€' : 'ì „ì²´');
        document.getElementById('modal-category').innerText = catName;

        const imgContainer = document.getElementById('modal-image-container');
        const imgEl = document.getElementById('modal-image');
        if (post.image) {
            imgEl.src = post.image;
            imgContainer.classList.remove('hidden');
        } else {
            imgContainer.classList.add('hidden');
        }

        document.getElementById('detail-modal').classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    }

    function closeDetailModal() {
        document.getElementById('detail-modal').classList.add('hidden');
        document.body.style.overflow = '';
    }

    // ... (ê¸°ì¡´ ë¡œê·¸ì¸ í¼, ì—…ë¡œë“œ í¼ ë“± ë‚˜ë¨¸ì§€ ìŠ¤í¬ë¦½íŠ¸ëŠ” ìœ ì§€í•´ì£¼ì„¸ìš”) ...
    // ë‹¨, updateLoginState í•¨ìˆ˜ëŠ” ìœ„ì—ì„œ ì •ì˜í•œ ê²ƒìœ¼ë¡œ ì¨ì•¼ í•©ë‹ˆë‹¤.
    // convertToBase64 í•¨ìˆ˜ ë“±ë„ í•„ìš”í•˜ë©´ ì—¬ê¸°ì— í¬í•¨ì‹œí‚¤ì„¸ìš”.

    // ê²Œì‹œë¬¼ ì—…ë¡œë“œ ì²˜ë¦¬ (ê¸°ì¡´ ì½”ë“œ ìœ ì§€ + ì €ì¥ëœ ìœ ì € ì‚¬ìš©)
    const uploadForm = document.getElementById('upload-form');
    if (uploadForm) {
        uploadForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            // currentUser ë³€ìˆ˜ê°€ ì—†ìœ¼ë©´ localStorageì—ì„œ ë‹¤ì‹œ í™•ì¸
            if (!currentUser) currentUser = localStorage.getItem('user');
            
            if (!currentUser) { alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤!"); return; }

            const title = document.getElementById('post-title').value;
            const content = document.getElementById('post-content').value;

            try {
                const response = await fetch('http://localhost:3000/api/posts', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ title, content, author: currentUser })
                });
                if (response.ok) {
                    alert('ê²Œì‹œë¬¼ì´ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
                    document.getElementById('upload-modal').classList.add('hidden');
                    document.getElementById('post-title').value = '';
                    document.getElementById('post-content').value = '';
                    loadPosts();
                }
            } catch (error) { console.error(error); alert('ì˜¤ë¥˜ ë°œìƒ'); }
        });
    }
    
    // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²° ë“±...
    const showUploadBtn = document.getElementById('show-upload-btn');
    if(showUploadBtn) showUploadBtn.addEventListener('click', () => document.getElementById('upload-modal').classList.remove('hidden'));

   </script>
    
</body>
</html>